# –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π: –ü–ª–∞–≥–∏–Ω Vassals and Robbers

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. Backend (Rails) - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –∏ –¥–æ–±–∞–≤–ª–µ–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

#### –§–∞–π–ª: `political_action_extensions.rb`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (—Å–∫–æ–±–∫–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ–ø–µ—á–∞—Ç–∫–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞—Ö (EXTRACTION, YIELD)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—Ç—Å—Ç—É–ø—ã –º–µ—Ç–æ–¥–æ–≤ (–±—ã–ª–∏ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞, —Å—Ç–∞–ª–∏ –º–µ—Ç–æ–¥—ã —ç–∫–∑–µ–º–ø–ª—è—Ä–∞)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ –º–µ—Ç–æ–¥—ã
- ‚úÖ –£–ª—É—á—à–µ–Ω –º–µ—Ç–æ–¥ `transfere_army` - —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –∞—Ä–º–∏–∏

#### –§–∞–π–ª: `game_parameter.rb`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ `register_lingering_effects`
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è: –û–î–ù–ê –∑–∞–ø–∏—Å—å —Å –º–∞—Å—Å–∏–≤–∞–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –≤–º–µ—Å—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `params_will_change!` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è JSON-–ø–æ–ª–µ–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ LINGERING_EFFECTS
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `any_lingering_effects?` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

#### –§–∞–π–ª: `army.rb`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–∏—à–Ω—è—è —Å–∫–æ–±–∫–∞ –≤ –º–µ—Ç–æ–¥–µ `lease_to`
- ‚úÖ –ü—Ä–∏–≤–µ–¥–µ–Ω—ã –∫–ª—é—á–∏ —Ö—ç—à–∞ –∫ –µ–¥–∏–Ω–æ–º—É —Å—Ç—Ä–æ–∫–æ–≤–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `params_will_change!` –≤ –º–µ—Ç–æ–¥—ã `lease_to` –∏ `unlease`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–ª—é—á –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –º–µ—Ç–æ–¥–µ `unlease` (action ‚Üí name_of_action)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `goto` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ–¥–∞ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞

#### –§–∞–π–ª: `resource.rb`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∞ –≤ –º–µ—Ç–æ–¥–µ `show_prices`
- ‚úÖ –£–±—Ä–∞–Ω–∞ —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É `PoliticalActionExtensions::HIGHER_SELL_PRICES`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –≥–æ–¥–∞

#### –§–∞–π–ª: `player.rb`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∞ –≤ –º–µ—Ç–æ–¥–µ `income`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –≥–æ–¥–∞

#### –§–∞–π–ª: `engine.rb`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ `PoliticalActionExtensions` –∫ –º–æ–¥–µ–ª–∏ `PoliticalAction`

#### –§–∞–π–ª: `config/application.rb`
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `ENV['ACTIVE_GAME'] = 'vassals-and-robbers'`

#### –§–∞–π–ª: `political_actions_controller.rb`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è —Å—Ç–∞—Ä–æ–π/–Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `action_requires_success?`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 2. Frontend (Vue.js) - –°–æ–∑–¥–∞–Ω—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### –°–æ–∑–¥–∞–Ω–æ 13 –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
1. `support_export.vue` - –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å —ç–∫—Å–ø–æ—Ä—Ç
2. `make_a_trip.vue` - –õ–∏—á–Ω—ã–π –≤–∏–∑–∏—Ç
3. `transfere_army.vue` - –ü–µ—Ä–µ–¥–∞—á–∞ –∞—Ä–º–∏–∏ (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∞—Ä–º–∏–π –í–µ–ª–∏–∫–æ–≥–æ –∫–Ω—è–∑—è)
4. `build_fort.vue` - –í–æ–∑–≤–µ—Å—Ç–∏ —Ñ–æ—Ä—Ç
5. `invest.vue` - –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏
6. `lease_cattle.vue` - –ü–µ—Ä–µ–¥–∞—á–∞ –≥–æ—Å—É–¥–∞—Ä–µ–≤—ã—Ö –ø–æ–¥–≤–æ–¥
7. `boost_innovation.vue` - –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∏–Ω–Ω–æ–≤–∞—Ü–∏–π
8. `make_alliance.vue` - –ó–∞–∫–ª—é—á–∏—Ç—å —Å–æ—é–∑
9. `bring_gifts_to_foreign_countries.vue` - –ü—Ä–∏–Ω–µ—Å—Ç–∏ –¥–∞—Ä—ã (–∏–Ω–æ—Å—Ç—Ä–∞–Ω—Ü–∞–º)
10. `bring_gifts_to_russian_countries.vue` - –ü—Ä–∏–Ω–µ—Å—Ç–∏ –¥–∞—Ä—ã (–†—É—Å–∏)
11. `protect_caravan.vue` - –ó–∞—â–∏—Ç–∞ –∫–∞—Ä–∞–≤–∞–Ω–∞
12. `spy_away_mutiny.vue` - –ö–æ–Ω—Ç—Ä—Ä–∞–∑–≤–µ–¥–∫–∞
13. `infiltrate_army.vue` - –†–∞–∑–≤–µ–¥–∫–∞

#### –û–±–Ω–æ–≤–ª–µ–Ω–æ 5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
1. `patronage_of_infidel.vue` - —É–±—Ä–∞–Ω—ã –∫–Ω–æ–ø–∫–∏ –£—Å–ø–µ—Ö/–ù–µ—É–¥–∞—á–∞
2. `send_embassy.vue` - —É–±—Ä–∞–Ω—ã –∫–Ω–æ–ø–∫–∏ –£—Å–ø–µ—Ö/–ù–µ—É–¥–∞—á–∞
3. `call_for_unity.vue` - –¥–æ–±–∞–≤–ª–µ–Ω –≤—ã–±–æ—Ä —Å—Ç—Ä–∞–Ω—ã
4. `sermon.vue` - —É–±—Ä–∞–Ω—ã –∫–Ω–æ–ø–∫–∏ –£—Å–ø–µ—Ö/–ù–µ—É–¥–∞—á–∞
5. `recruiting.vue` - —É–±—Ä–∞–Ω—ã –∫–Ω–æ–ø–∫–∏ –£—Å–ø–µ—Ö/–ù–µ—É–¥–∞—á–∞

#### –û–±–Ω–æ–≤–ª–µ–Ω –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:
- `PoliticalAction.vue` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

## üéØ –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö lingering_effects:

**–ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```ruby
[
  {duration: [2], name_of_action: "support_export", effect: "effect1", target: nil},
  {duration: [2], name_of_action: "support_export", effect: "effect2", target: nil},
  {duration: [2], name_of_action: "support_export", effect: "effect3", target: nil}
]
```

**–°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```ruby
[
  {
    duration: [2], 
    name_of_action: "support_export", 
    effects: ["effect1", "effect2", "effect3"],  # –ú–∞—Å—Å–∏–≤ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
    targets: [nil]                                # –ú–∞—Å—Å–∏–≤ —Ü–µ–ª–µ–π
  }
]
```

### –ü—Ä–æ–±–ª–µ–º–∞ —Å JSON-–ø–æ–ª—è–º–∏ –≤ ActiveRecord:

**–ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ JSON-–ø–æ–ª–µ–π –≤ PostgreSQL/SQLite –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```ruby
# ‚ùå –ù–ï –†–ê–ë–û–¢–ê–ï–¢:
self.params["key"] = value
self.save

# ‚úÖ –†–ê–ë–û–¢–ê–ï–¢:
new_params = self.params || {}
new_params["key"] = value
self.params = new_params
self.params_will_change!  # ‚Üê –ö–†–ò–¢–ò–ß–ù–û!
self.save
```

## üöÄ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

### –°—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞ (—è–¥—Ä–æ –∏–≥—Ä—ã):
- –¢—Ä–µ–±—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `success: true/false`
- –ú–µ—Ç–æ–¥—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç `if success.to_i == 1`
- Vue-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–º–µ—é—Ç –∫–Ω–æ–ø–∫–∏ "–£—Å–ø–µ—Ö/–ù–µ—É–¥–∞—á–∞"

### –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (–ø–ª–∞–≥–∏–Ω):
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `success`
- –ú–µ—Ç–æ–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
- Vue-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–º–µ—é—Ç –∫–Ω–æ–ø–∫—É "–í—ã–ø–æ–ª–Ω–∏—Ç—å"

### –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø:
```ruby
uses_plugin_system = action_method && @political_action.respond_to?(action_method) && 
                     !action_requires_success?(action_method)
```

## üìã –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–ª–∞–≥–∏–Ω–∞

### –ù–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
1. **support_export** - –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å —ç–∫—Å–ø–æ—Ä—Ç (3 —ç—Ñ—Ñ–µ–∫—Ç–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –≥–æ–¥)
2. **make_a_trip** - –õ–∏—á–Ω—ã–π –≤–∏–∑–∏—Ç (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è –∞—Ä–º–∏–∏)
3. **transfere_army** - –ü–µ—Ä–µ–¥–∞—á–∞ –∞—Ä–º–∏–∏ (—Ç–æ–ª—å–∫–æ –∞—Ä–º–∏–∏ –í–µ–ª–∏–∫–æ–≥–æ –∫–Ω—è–∑—è)
4. **build_fort** - –í–æ–∑–≤–µ—Å—Ç–∏ —Ñ–æ—Ä—Ç
5. **invest** - –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ –¥–æ–±—ã–≤–∞—é—â–∏–µ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è
6. **lease_cattle** - –ü–µ—Ä–µ–¥–∞—á–∞ –≥–æ—Å—É–¥–∞—Ä–µ–≤—ã—Ö –ø–æ–¥–≤–æ–¥
7. **boost_innovation** - –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∏–Ω–Ω–æ–≤–∞—Ü–∏–π –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ
8. **make_alliance** - –ó–∞–∫–ª—é—á–∏—Ç—å —Å–æ—é–∑
9. **bring_gifts_to_foreign_countries** - –î–∞—Ä—ã –∏–Ω–æ—Å—Ç—Ä–∞–Ω—Ü–∞–º
10. **bring_gifts_to_russian_countries** - –î–∞—Ä—ã —Ä—É—Å—Å–∫–∏–º –∫–Ω—è–∂–µ—Å—Ç–≤–∞–º
11. **protect_caravan** - –ó–∞—â–∏—Ç–∞ –∫–∞—Ä–∞–≤–∞–Ω–∞ –≥–∏–ª—å–¥–∏–∏
12. **spy_away_mutiny** - –ö–æ–Ω—Ç—Ä—Ä–∞–∑–≤–µ–¥–∫–∞
13. **infiltrate_army** - –†–∞–∑–≤–µ–¥–∫–∞ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

### –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
1. **patronage_of_infidel** - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é, —Å–Ω–∏–∂–∞–µ—Ç –û–ü
2. **send_embassy** - —É–ª—É—á—à–∞–µ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å –¥–≤—É–º—è —Å—Ç—Ä–∞–Ω–∞–º–∏
3. **call_for_unity** - —É–ª—É—á—à–∞–µ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–æ–π
4. **sermon** - –ø–æ–≤—ã—à–∞–µ—Ç –û–ü –≤ —Ä–µ–≥–∏–æ–Ω–µ
5. **recruiting** - —Å–Ω–∏–∂–∞–µ—Ç –û–ü –≤–æ –≤—Å–µ—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö –†—É—Å–∏

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞):
```ruby
# config/application.rb
ENV['ACTIVE_GAME'] ||= 'vassals-and-robbers'
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
–¢–∏–ø—ã –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã –∏–∑ CSV:
- `./engines/vassals_and_robbers/db/seeds/pat_nobles_vassals.csv`

–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ `rails db:seed` (–µ—Å–ª–∏ `ENV['APP_VERSION'] != 'core'`)

### –ó–∞–ø–∏—Å—å LINGERING_EFFECTS:
–°–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏.

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
# –í Rails Console:
rails c

# –ü—Ä–æ–≤–µ—Ä–∫–∏:
ENV['ACTIVE_GAME']
# => "vassals-and-robbers"

PoliticalAction.new.respond_to?(:support_export)
# => true

# –¢–µ—Å—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤:
GameParameter.register_lingering_effects('test', ['e1', 'e2'], 2025)
GameParameter.find_by(identificator: 'lingering_effects').params
# => [{"duration"=>[2025], "name_of_action"=>"test", "effects"=>["e1", "e2"], "targets"=>[nil]}]
```

## üéØ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. ‚úÖ –ò–º—è —Ñ–∞–π–ª–∞ (extenstions ‚Üí extensions)
2. ‚úÖ –û—Ç—Å—Ç—É–ø—ã –º–µ—Ç–æ–¥–æ–≤ (class_methods ‚Üí instance methods)
3. ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ concern –≤ engine.rb
4. ‚úÖ JSON-–ø–æ–ª—è –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å (–¥–æ–±–∞–≤–ª–µ–Ω params_will_change!)
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –≥–æ–¥–∞
6. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç (–∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–æ–∫–∏)
7. ‚úÖ –û–ø–µ—á–∞—Ç–∫–∏ (targe ‚Üí target)
8. ‚úÖ –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (action ‚Üí name_of_action)

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `ENV['ACTIVE_GAME']` –ù–ï –∏—Å—á–µ–∑–∞–µ—Ç –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ª–∏–≤–∫–µ –ë–î (—ç—Ç–æ –∫–æ–¥, –Ω–µ –¥–∞–Ω–Ω—ã–µ)
- –î–ª—è JSON-–ø–æ–ª–µ–π –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `params_will_change!`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –í–°–ï–ì–î–ê –¥–æ–ª–∂–Ω–∞ –≤–∫–ª—é—á–∞—Ç—å –≥–æ–¥
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ –≤–º–µ—Å—Ç–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤

---
*–î–∞—Ç–∞: 2025-11-02*
*–ü–ª–∞–≥–∏–Ω: vassals-and-robbers*

